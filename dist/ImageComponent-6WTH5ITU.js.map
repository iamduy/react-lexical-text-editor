{"version":3,"sources":["../src/nodes/ImageComponent.tsx","../src/ui/ImageResizer.tsx"],"sourcesContent":["/**\n * Copyright (c) Meta Platforms, Inc. and affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n */\n\nimport type { LexicalCommand, LexicalEditor, NodeKey } from 'lexical';\nimport type { JSX } from 'react';\n\nimport './ImageNode.css';\n\n// import { useCollaborationContext } from \"@lexical/react/LexicalCollaborationContext\";\n// import { CollaborationPlugin } from \"@lexical/react/LexicalCollaborationPlugin\";\nimport { useLexicalComposerContext } from '@lexical/react/LexicalComposerContext';\nimport { LexicalErrorBoundary } from '@lexical/react/LexicalErrorBoundary';\nimport { HistoryPlugin } from '@lexical/react/LexicalHistoryPlugin';\nimport { LexicalNestedComposer } from '@lexical/react/LexicalNestedComposer';\nimport { RichTextPlugin } from '@lexical/react/LexicalRichTextPlugin';\nimport { useLexicalEditable } from '@lexical/react/useLexicalEditable';\nimport { useLexicalNodeSelection } from '@lexical/react/useLexicalNodeSelection';\nimport { mergeRegister } from '@lexical/utils';\nimport {\n  $getNodeByKey,\n  $getRoot,\n  $getSelection,\n  $isNodeSelection,\n  $isRangeSelection,\n  $setSelection,\n  BLUR_COMMAND,\n  CLICK_COMMAND,\n  COMMAND_PRIORITY_EDITOR,\n  COMMAND_PRIORITY_LOW,\n  createCommand,\n  DRAGSTART_COMMAND,\n  KEY_ENTER_COMMAND,\n  KEY_ESCAPE_COMMAND,\n  SELECTION_CHANGE_COMMAND,\n} from 'lexical';\nimport * as React from 'react';\nimport {\n  Suspense,\n  useCallback,\n  useEffect,\n  useMemo,\n  useRef,\n  useState,\n} from 'react';\n\n// import { createWebsocketProvider } from \"../collaboration\";\nimport { useSharedHistoryContext } from '../context/SharedHistoryContext';\nimport brokenImage from '../images/image-broken.svg';\nimport ContentEditable from '../ui/ContentEditable';\nimport ImageResizer from '../ui/ImageResizer';\nimport { $isCaptionEditorEmpty, $isImageNode } from './ImageNode';\n\ntype ImageStatus =\n  | { error: true }\n  | { error: false; width: number; height: number };\n\nconst imageCache = new Map<string, Promise<ImageStatus> | ImageStatus>();\n\nexport const RIGHT_CLICK_IMAGE_COMMAND: LexicalCommand<MouseEvent> =\n  createCommand('RIGHT_CLICK_IMAGE_COMMAND');\n\nfunction DisableCaptionOnBlur({\n  setShowCaption,\n}: {\n  setShowCaption: (show: boolean) => void;\n}) {\n  const [editor] = useLexicalComposerContext();\n  useEffect(() =>\n    editor.registerCommand(\n      BLUR_COMMAND,\n      () => {\n        if ($isCaptionEditorEmpty()) {\n          setShowCaption(false);\n        }\n        return false;\n      },\n      COMMAND_PRIORITY_EDITOR\n    )\n  );\n  return null;\n}\n\nfunction useSuspenseImage(src: string): ImageStatus {\n  let cached = imageCache.get(src);\n  if (cached && 'error' in cached && typeof cached.error === 'boolean') {\n    return cached;\n  } else if (!cached) {\n    cached = new Promise<ImageStatus>((resolve) => {\n      const img = new Image();\n      img.src = src;\n      img.onload = () =>\n        resolve({\n          error: false,\n          height: img.naturalHeight,\n          width: img.naturalWidth,\n        });\n      img.onerror = () => resolve({ error: true });\n    }).then((rval) => {\n      imageCache.set(src, rval);\n      return rval;\n    });\n    imageCache.set(src, cached);\n    throw cached;\n  }\n  throw cached;\n}\n\nfunction isSVG(src: string): boolean {\n  return src.toLowerCase().endsWith('.svg');\n}\n\nfunction LazyImage({\n  altText,\n  className,\n  imageRef,\n  src,\n  width,\n  height,\n  maxWidth,\n  onError,\n}: {\n  altText: string;\n  className: string | null;\n  height: 'inherit' | number;\n  imageRef: { current: null | HTMLImageElement };\n  maxWidth: number;\n  src: string;\n  width: 'inherit' | number;\n  onError: () => void;\n}): JSX.Element {\n  const isSVGImage = isSVG(src);\n  const status = useSuspenseImage(src);\n\n  useEffect(() => {\n    if (status.error) {\n      onError();\n    }\n  }, [status.error, onError]);\n\n  if (status.error) {\n    return <BrokenImage />;\n  }\n\n  // Calculate final dimensions with proper scaling\n  const calculateDimensions = () => {\n    if (!isSVGImage) {\n      return {\n        height,\n        maxWidth,\n        width,\n      };\n    }\n\n    // Use natural dimensions if available, otherwise fallback to defaults\n    const naturalWidth = status.width;\n    const naturalHeight = status.height;\n\n    let finalWidth = naturalWidth;\n    let finalHeight = naturalHeight;\n\n    // Scale down if width exceeds maxWidth while maintaining aspect ratio\n    if (finalWidth > maxWidth) {\n      const scale = maxWidth / finalWidth;\n      finalWidth = maxWidth;\n      finalHeight = Math.round(finalHeight * scale);\n    }\n\n    // Scale down if height exceeds maxHeight while maintaining aspect ratio\n    const maxHeight = 500;\n    if (finalHeight > maxHeight) {\n      const scale = maxHeight / finalHeight;\n      finalHeight = maxHeight;\n      finalWidth = Math.round(finalWidth * scale);\n    }\n\n    return {\n      height: finalHeight,\n      maxWidth,\n      width: finalWidth,\n    };\n  };\n\n  const imageStyle = calculateDimensions();\n\n  return (\n    // eslint-disable-next-line @next/next/no-img-element\n    <img\n      className={className || undefined}\n      src={src}\n      alt={altText}\n      ref={imageRef}\n      style={imageStyle}\n      onError={onError}\n      draggable='false'\n    />\n  );\n}\n\nfunction BrokenImage(): JSX.Element {\n  return (\n    // eslint-disable-next-line @next/next/no-img-element\n    <img\n      src={brokenImage}\n      style={{\n        height: 200,\n        opacity: 0.2,\n        width: 200,\n      }}\n      draggable='false'\n      alt='Broken image'\n    />\n  );\n}\n\nfunction noop() {}\n\nexport default function ImageComponent({\n  src,\n  altText,\n  nodeKey,\n  width,\n  height,\n  maxWidth,\n  resizable,\n  showCaption,\n  caption,\n  captionsEnabled,\n}: {\n  altText: string;\n  caption: LexicalEditor;\n  height: 'inherit' | number;\n  maxWidth: number;\n  nodeKey: NodeKey;\n  resizable: boolean;\n  showCaption: boolean;\n  src: string;\n  width: 'inherit' | number;\n  captionsEnabled: boolean;\n}): JSX.Element {\n  const imageRef = useRef<null | HTMLImageElement>(null);\n  const buttonRef = useRef<HTMLButtonElement | null>(null);\n  const [isSelected, setSelected, clearSelection] =\n    useLexicalNodeSelection(nodeKey);\n  const [isResizing, setIsResizing] = useState<boolean>(false);\n  // const { isCollabActive } = useCollaborationContext();\n  const [editor] = useLexicalComposerContext();\n  const activeEditorRef = useRef<LexicalEditor | null>(null);\n  const [isLoadError, setIsLoadError] = useState<boolean>(false);\n  const isEditable = useLexicalEditable();\n  const isInNodeSelection = useMemo(\n    () =>\n      isSelected &&\n      editor.getEditorState().read(() => {\n        const selection = $getSelection();\n        return $isNodeSelection(selection) && selection.has(nodeKey);\n      }),\n    [editor, isSelected, nodeKey]\n  );\n\n  const $onEnter = useCallback(\n    (event: KeyboardEvent) => {\n      const latestSelection = $getSelection();\n      const buttonElem = buttonRef.current;\n      if (\n        $isNodeSelection(latestSelection) &&\n        latestSelection.has(nodeKey) &&\n        latestSelection.getNodes().length === 1\n      ) {\n        if (showCaption) {\n          // Move focus into nested editor\n          $setSelection(null);\n          event.preventDefault();\n          caption.focus();\n          return true;\n        } else if (\n          buttonElem !== null &&\n          buttonElem !== document.activeElement\n        ) {\n          event.preventDefault();\n          buttonElem.focus();\n          return true;\n        }\n      }\n      return false;\n    },\n    [caption, nodeKey, showCaption]\n  );\n\n  const $onEscape = useCallback(\n    (event: KeyboardEvent) => {\n      if (\n        activeEditorRef.current === caption ||\n        buttonRef.current === event.target\n      ) {\n        $setSelection(null);\n        editor.update(() => {\n          setSelected(true);\n          const parentRootElement = editor.getRootElement();\n          if (parentRootElement !== null) {\n            parentRootElement.focus();\n          }\n        });\n        return true;\n      }\n      return false;\n    },\n    [caption, editor, setSelected]\n  );\n\n  const onClick = useCallback(\n    (payload: MouseEvent) => {\n      const event = payload;\n\n      if (isResizing) {\n        return true;\n      }\n      if (event.target === imageRef.current) {\n        if (event.shiftKey) {\n          setSelected(!isSelected);\n        } else {\n          clearSelection();\n          setSelected(true);\n        }\n        return true;\n      }\n\n      return false;\n    },\n    [isResizing, isSelected, setSelected, clearSelection]\n  );\n\n  const onRightClick = useCallback(\n    (event: MouseEvent): void => {\n      editor.getEditorState().read(() => {\n        const latestSelection = $getSelection();\n        const domElement = event.target as HTMLElement;\n        if (\n          domElement.tagName === 'IMG' &&\n          $isRangeSelection(latestSelection) &&\n          latestSelection.getNodes().length === 1\n        ) {\n          editor.dispatchCommand(RIGHT_CLICK_IMAGE_COMMAND, event);\n        }\n      });\n    },\n    [editor]\n  );\n\n  useEffect(() => {\n    return mergeRegister(\n      editor.registerCommand(\n        SELECTION_CHANGE_COMMAND,\n        (_, activeEditor) => {\n          activeEditorRef.current = activeEditor;\n          return false;\n        },\n        COMMAND_PRIORITY_LOW\n      ),\n      editor.registerCommand(\n        DRAGSTART_COMMAND,\n        (event) => {\n          if (event.target === imageRef.current) {\n            // TODO This is just a temporary workaround for FF to behave like other browsers.\n            // Ideally, this handles drag & drop too (and all browsers).\n            event.preventDefault();\n            return true;\n          }\n          return false;\n        },\n        COMMAND_PRIORITY_LOW\n      )\n    );\n  }, [editor]);\n  useEffect(() => {\n    let rootCleanup = noop;\n    return mergeRegister(\n      editor.registerCommand<MouseEvent>(\n        CLICK_COMMAND,\n        onClick,\n        COMMAND_PRIORITY_LOW\n      ),\n      editor.registerCommand<MouseEvent>(\n        RIGHT_CLICK_IMAGE_COMMAND,\n        onClick,\n        COMMAND_PRIORITY_LOW\n      ),\n      editor.registerCommand(KEY_ENTER_COMMAND, $onEnter, COMMAND_PRIORITY_LOW),\n      editor.registerCommand(\n        KEY_ESCAPE_COMMAND,\n        $onEscape,\n        COMMAND_PRIORITY_LOW\n      ),\n      editor.registerRootListener((rootElement) => {\n        rootCleanup();\n        rootCleanup = noop;\n        if (rootElement) {\n          rootElement.addEventListener('contextmenu', onRightClick);\n          rootCleanup = () =>\n            rootElement.removeEventListener('contextmenu', onRightClick);\n        }\n      }),\n      () => rootCleanup()\n    );\n  }, [editor, $onEnter, $onEscape, onClick, onRightClick]);\n\n  const setShowCaption = (show: boolean) => {\n    editor.update(() => {\n      const node = $getNodeByKey(nodeKey);\n      if ($isImageNode(node)) {\n        node.setShowCaption(show);\n        if (show) {\n          node.__caption.update(() => {\n            if (!$getSelection()) {\n              $getRoot().selectEnd();\n            }\n          });\n        }\n      }\n    });\n  };\n\n  const onResizeEnd = (\n    nextWidth: 'inherit' | number,\n    nextHeight: 'inherit' | number\n  ) => {\n    // Delay hiding the resize bars for click case\n    setTimeout(() => {\n      setIsResizing(false);\n    }, 200);\n\n    editor.update(() => {\n      const node = $getNodeByKey(nodeKey);\n      if ($isImageNode(node)) {\n        node.setWidthAndHeight(nextWidth, nextHeight);\n      }\n    });\n  };\n\n  const onResizeStart = () => {\n    setIsResizing(true);\n  };\n\n  const { historyState } = useSharedHistoryContext();\n\n  const draggable = isInNodeSelection && !isResizing;\n  const isFocused = (isSelected || isResizing) && isEditable;\n  return (\n    <Suspense fallback={null}>\n      <>\n        <div draggable={draggable}>\n          {isLoadError ? (\n            <BrokenImage />\n          ) : (\n            <LazyImage\n              className={\n                isFocused\n                  ? `focused ${isInNodeSelection ? 'draggable' : ''}`\n                  : null\n              }\n              src={src}\n              altText={altText}\n              imageRef={imageRef}\n              width={width}\n              height={height}\n              maxWidth={maxWidth}\n              onError={() => setIsLoadError(true)}\n            />\n          )}\n        </div>\n\n        {showCaption && (\n          <div className='image-caption-container'>\n            <LexicalNestedComposer initialEditor={caption}>\n              <DisableCaptionOnBlur setShowCaption={setShowCaption} />\n              {/* {isCollabActive ? (\n                <CollaborationPlugin\n                  id={caption.getKey()}\n                  providerFactory={createWebsocketProvider}\n                  shouldBootstrap={true}\n                />\n              ) : (\n                <HistoryPlugin externalHistoryState={historyState} />\n              )} */}\n              <HistoryPlugin externalHistoryState={historyState} />\n              <RichTextPlugin\n                contentEditable={\n                  <ContentEditable\n                    placeholder='Enter a caption...'\n                    placeholderClassName='ImageNode__placeholder'\n                    className='ImageNode__contentEditable'\n                  />\n                }\n                ErrorBoundary={LexicalErrorBoundary}\n              />\n            </LexicalNestedComposer>\n          </div>\n        )}\n        {resizable && isInNodeSelection && isFocused && (\n          <ImageResizer\n            showCaption={showCaption}\n            setShowCaption={setShowCaption}\n            editor={editor}\n            buttonRef={buttonRef}\n            imageRef={imageRef}\n            maxWidth={maxWidth}\n            onResizeStart={onResizeStart}\n            onResizeEnd={onResizeEnd}\n            captionsEnabled={!isLoadError && captionsEnabled}\n          />\n        )}\n      </>\n    </Suspense>\n  );\n}\n","/**\n * Copyright (c) Meta Platforms, Inc. and affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n */\n\nimport type { LexicalEditor } from \"lexical\";\nimport type { JSX } from \"react\";\n\nimport { calculateZoomLevel } from \"@lexical/utils\";\nimport * as React from \"react\";\nimport { useRef } from \"react\";\n\nfunction clamp(value: number, min: number, max: number) {\n  return Math.min(Math.max(value, min), max);\n}\n\nconst Direction = {\n  east: 1 << 0,\n  north: 1 << 3,\n  south: 1 << 1,\n  west: 1 << 2,\n};\n\nexport default function ImageResizer({\n  onResizeStart,\n  onResizeEnd,\n  buttonRef,\n  imageRef,\n  maxWidth,\n  editor,\n  showCaption,\n  setShowCaption,\n  captionsEnabled,\n}: {\n  editor: LexicalEditor;\n  buttonRef: { current: null | HTMLButtonElement };\n  imageRef: { current: null | HTMLElement };\n  maxWidth?: number;\n  onResizeEnd: (width: \"inherit\" | number, height: \"inherit\" | number) => void;\n  onResizeStart: () => void;\n  setShowCaption: (show: boolean) => void;\n  showCaption: boolean;\n  captionsEnabled: boolean;\n}): JSX.Element {\n  const controlWrapperRef = useRef<HTMLDivElement>(null);\n  const userSelect = useRef({\n    priority: \"\",\n    value: \"default\",\n  });\n  const positioningRef = useRef<{\n    currentHeight: \"inherit\" | number;\n    currentWidth: \"inherit\" | number;\n    direction: number;\n    isResizing: boolean;\n    ratio: number;\n    startHeight: number;\n    startWidth: number;\n    startX: number;\n    startY: number;\n  }>({\n    currentHeight: 0,\n    currentWidth: 0,\n    direction: 0,\n    isResizing: false,\n    ratio: 0,\n    startHeight: 0,\n    startWidth: 0,\n    startX: 0,\n    startY: 0,\n  });\n  const editorRootElement = editor.getRootElement();\n  // Find max width, accounting for editor padding.\n  const maxWidthContainer = maxWidth\n    ? maxWidth\n    : editorRootElement !== null\n      ? editorRootElement.getBoundingClientRect().width - 20\n      : 100;\n  const maxHeightContainer =\n    editorRootElement !== null ? editorRootElement.getBoundingClientRect().height - 20 : 100;\n\n  const minWidth = 100;\n  const minHeight = 100;\n\n  const setStartCursor = (direction: number) => {\n    const ew = direction === Direction.east || direction === Direction.west;\n    const ns = direction === Direction.north || direction === Direction.south;\n    const nwse =\n      (direction & Direction.north && direction & Direction.west) ||\n      (direction & Direction.south && direction & Direction.east);\n\n    const cursorDir = ew ? \"ew\" : ns ? \"ns\" : nwse ? \"nwse\" : \"nesw\";\n\n    if (editorRootElement !== null) {\n      editorRootElement.style.setProperty(\"cursor\", `${cursorDir}-resize`, \"important\");\n    }\n    if (document.body !== null) {\n      document.body.style.setProperty(\"cursor\", `${cursorDir}-resize`, \"important\");\n      userSelect.current.value = document.body.style.getPropertyValue(\"-webkit-user-select\");\n      userSelect.current.priority = document.body.style.getPropertyPriority(\"-webkit-user-select\");\n      document.body.style.setProperty(\"-webkit-user-select\", `none`, \"important\");\n    }\n  };\n\n  const setEndCursor = () => {\n    if (editorRootElement !== null) {\n      editorRootElement.style.setProperty(\"cursor\", \"text\");\n    }\n    if (document.body !== null) {\n      document.body.style.setProperty(\"cursor\", \"default\");\n      document.body.style.setProperty(\n        \"-webkit-user-select\",\n        userSelect.current.value,\n        userSelect.current.priority\n      );\n    }\n  };\n\n  const handlePointerDown = (event: React.PointerEvent<HTMLDivElement>, direction: number) => {\n    if (!editor.isEditable()) {\n      return;\n    }\n\n    const image = imageRef.current;\n    const controlWrapper = controlWrapperRef.current;\n\n    if (image !== null && controlWrapper !== null) {\n      event.preventDefault();\n      const { width, height } = image.getBoundingClientRect();\n      const zoom = calculateZoomLevel(image);\n      const positioning = positioningRef.current;\n      positioning.startWidth = width;\n      positioning.startHeight = height;\n      positioning.ratio = width / height;\n      positioning.currentWidth = width;\n      positioning.currentHeight = height;\n      positioning.startX = event.clientX / zoom;\n      positioning.startY = event.clientY / zoom;\n      positioning.isResizing = true;\n      positioning.direction = direction;\n\n      setStartCursor(direction);\n      onResizeStart();\n\n      controlWrapper.classList.add(\"image-control-wrapper--resizing\");\n      image.style.height = `${height}px`;\n      image.style.width = `${width}px`;\n\n      document.addEventListener(\"pointermove\", handlePointerMove);\n      document.addEventListener(\"pointerup\", handlePointerUp);\n    }\n  };\n  const handlePointerMove = (event: PointerEvent) => {\n    const image = imageRef.current;\n    const positioning = positioningRef.current;\n\n    const isHorizontal = positioning.direction & (Direction.east | Direction.west);\n    const isVertical = positioning.direction & (Direction.south | Direction.north);\n\n    if (image !== null && positioning.isResizing) {\n      const zoom = calculateZoomLevel(image);\n      // Corner cursor\n      if (isHorizontal && isVertical) {\n        let diff = Math.floor(positioning.startX - event.clientX / zoom);\n        diff = positioning.direction & Direction.east ? -diff : diff;\n\n        const width = clamp(positioning.startWidth + diff, minWidth, maxWidthContainer);\n\n        const height = width / positioning.ratio;\n        image.style.width = `${width}px`;\n        image.style.height = `${height}px`;\n        positioning.currentHeight = height;\n        positioning.currentWidth = width;\n      } else if (isVertical) {\n        let diff = Math.floor(positioning.startY - event.clientY / zoom);\n        diff = positioning.direction & Direction.south ? -diff : diff;\n\n        const height = clamp(positioning.startHeight + diff, minHeight, maxHeightContainer);\n\n        image.style.height = `${height}px`;\n        positioning.currentHeight = height;\n      } else {\n        let diff = Math.floor(positioning.startX - event.clientX / zoom);\n        diff = positioning.direction & Direction.east ? -diff : diff;\n\n        const width = clamp(positioning.startWidth + diff, minWidth, maxWidthContainer);\n\n        image.style.width = `${width}px`;\n        positioning.currentWidth = width;\n      }\n    }\n  };\n  const handlePointerUp = () => {\n    const image = imageRef.current;\n    const positioning = positioningRef.current;\n    const controlWrapper = controlWrapperRef.current;\n    if (image !== null && controlWrapper !== null && positioning.isResizing) {\n      const width = positioning.currentWidth;\n      const height = positioning.currentHeight;\n      positioning.startWidth = 0;\n      positioning.startHeight = 0;\n      positioning.ratio = 0;\n      positioning.startX = 0;\n      positioning.startY = 0;\n      positioning.currentWidth = 0;\n      positioning.currentHeight = 0;\n      positioning.isResizing = false;\n\n      controlWrapper.classList.remove(\"image-control-wrapper--resizing\");\n\n      setEndCursor();\n      onResizeEnd(width, height);\n\n      document.removeEventListener(\"pointermove\", handlePointerMove);\n      document.removeEventListener(\"pointerup\", handlePointerUp);\n    }\n  };\n  return (\n    <div ref={controlWrapperRef}>\n      {!showCaption && captionsEnabled && (\n        <button\n          className=\"image-caption-button\"\n          ref={buttonRef}\n          onClick={() => {\n            setShowCaption(!showCaption);\n          }}\n        >\n          Add Caption\n        </button>\n      )}\n      <div\n        className=\"image-resizer image-resizer-n\"\n        onPointerDown={(event) => {\n          handlePointerDown(event, Direction.north);\n        }}\n      />\n      <div\n        className=\"image-resizer image-resizer-ne\"\n        onPointerDown={(event) => {\n          handlePointerDown(event, Direction.north | Direction.east);\n        }}\n      />\n      <div\n        className=\"image-resizer image-resizer-e\"\n        onPointerDown={(event) => {\n          handlePointerDown(event, Direction.east);\n        }}\n      />\n      <div\n        className=\"image-resizer image-resizer-se\"\n        onPointerDown={(event) => {\n          handlePointerDown(event, Direction.south | Direction.east);\n        }}\n      />\n      <div\n        className=\"image-resizer image-resizer-s\"\n        onPointerDown={(event) => {\n          handlePointerDown(event, Direction.south);\n        }}\n      />\n      <div\n        className=\"image-resizer image-resizer-sw\"\n        onPointerDown={(event) => {\n          handlePointerDown(event, Direction.south | Direction.west);\n        }}\n      />\n      <div\n        className=\"image-resizer image-resizer-w\"\n        onPointerDown={(event) => {\n          handlePointerDown(event, Direction.west);\n        }}\n      />\n      <div\n        className=\"image-resizer image-resizer-nw\"\n        onPointerDown={(event) => {\n          handlePointerDown(event, Direction.north | Direction.west);\n        }}\n      />\n    </div>\n  );\n}\n"],"mappings":"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","names":["useRef","jsx","jsxs","useRef"]}