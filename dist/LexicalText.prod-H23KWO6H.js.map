{"version":3,"sources":["../node_modules/@lexical/text/LexicalText.prod.mjs"],"sourcesContent":["/**\n * Copyright (c) Meta Platforms, Inc. and affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n */\n\nimport{$getRoot as t,$isDecoratorNode as e,$isElementNode as n,$isParagraphNode as r,$isTextNode as i,TextNode as o,$createTextNode as l}from\"lexical\";function s(){return t().getTextContent()}function f(t,e=!0){if(t)return!1;let n=s();return e&&(n=n.trim()),\"\"===n}function u(t,e){return()=>f(t,e)}function c(o){if(!f(o,!1))return!1;const l=t().getChildren(),s=l.length;if(s>1)return!1;for(let t=0;t<s;t++){const o=l[t];if(e(o))return!1;if(n(o)){if(!r(o))return!1;if(0!==o.__indent)return!1;const e=o.getChildren(),n=e.length;for(let r=0;r<n;r++){const n=e[t];if(!i(n))return!1}}}return!0}function g(t){return()=>c(t)}function a(t,e){let r=t.getFirstChild(),o=0;t:for(;null!==r;){if(n(r)){const t=r.getFirstChild();if(null!==t){r=t;continue}}else if(i(r)){const t=r.getTextContentSize();if(o+t>e)return{node:r,offset:e-o};o+=t}const t=r.getNextSibling();if(null!==t){r=t;continue}let l=r.getParent();for(;null!==l;){const t=l.getNextSibling();if(null!==t){r=t;continue t}l=l.getParent()}break}return null}function d(t,...e){const n=new URL(\"https://lexical.dev/docs/error\"),r=new URLSearchParams;r.append(\"code\",t);for(const t of e)r.append(\"v\",t);throw n.search=r.toString(),Error(`Minified Lexical error #${t}; visit ${n.toString()} for the full message or use the non-minified dev environment for full errors and additional helpful warnings.`)}function x(t,e,n,r){const s=t=>t instanceof n,f=t=>{const e=l(t.getTextContent());e.setFormat(t.getFormat()),t.replace(e)};return[t.registerNodeTransform(o,t=>{if(!t.isSimpleText())return;let n,o=t.getPreviousSibling(),l=t.getTextContent(),u=t;if(i(o)){const n=o.getTextContent(),r=e(n+l);if(s(o)){if(null===r||0!==(t=>t.getLatest().__mode)(o))return void f(o);{const e=r.end-n.length;if(e>0){const r=n+l.slice(0,e);if(o.select(),o.setTextContent(r),e===l.length)t.remove();else{const n=l.slice(e);t.setTextContent(n)}return}}}else if(null===r||r.start<n.length)return}let c=0;for(;;){n=e(l);let t,g=null===n?\"\":l.slice(n.end);if(l=g,\"\"===g){const t=u.getNextSibling();if(i(t)){g=u.getTextContent()+t.getTextContent();const n=e(g);if(null===n)return void(s(t)?f(t):t.markDirty());if(0!==n.start)return}}if(null===n)return;if(0===n.start&&i(o)&&o.isTextEntity()){c+=n.end;continue}0===n.start?[t,u]=u.splitText(n.end):[,t,u]=u.splitText(n.start+c,n.end+c),void 0===t&&d(165,\"nodeToReplace\");const a=r(t);if(a.setFormat(t.getFormat()),t.replace(a),null==u)return;c=0,o=a}}),t.registerNodeTransform(n,t=>{const n=t.getTextContent(),r=e(n);if(null===r||0!==r.start)return void f(t);if(n.length>r.end)return void t.splitText(r.end);const o=t.getPreviousSibling();i(o)&&o.isTextEntity()&&(f(o),f(t));const l=t.getNextSibling();i(l)&&l.isTextEntity()&&(f(l),s(t)&&f(t))})]}export{c as $canShowPlaceholder,g as $canShowPlaceholderCurry,a as $findTextIntersectionFromCharacters,f as $isRootTextContentEmpty,u as $isRootTextContentEmptyCurry,s as $rootTextContent,x as registerLexicalTextEntity};\n"],"mappings":"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","names":["t","e","n","o","l","s","r","f","u","c","g","a"]}